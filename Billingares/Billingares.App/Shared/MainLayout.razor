@using Billingares.Blazor
@using Billingares.Blazor.Components

@inject IStringLocalizer<Resource> localizer
@inject ApplicationState AppState

@inherits LayoutComponentBase

<PageTitle>@localizer["ApplicationTitle"]</PageTitle>

<MudThemeProvider @bind-IsDarkMode="@AppState.DarkMode" Theme="Theme" />
<MudDialogProvider />
<MudSnackbarProvider />

<div class="page">
	<main>
		<MudAppBar Fixed="false" Dense="false">

			<HomeComponent />

			<MudSpacer />

			<CultureSelectorComponent />

			<MudToggleIconButton @bind-Toggled="@AppState.DarkMode"
								 Icon="@Icons.Material.Filled.DarkMode" ToggledIcon="@Icons.Material.Filled.LightMode" />

			<MudToggleIconButton @bind-Toggled="@AppState.FancyMode"
								 Icon="@Icons.Material.Filled.AutoFixHigh" ToggledIcon="@Icons.Material.Filled.AutoFixOff" />

			<MudIconButton Icon="@Icons.Custom.Brands.GitHub" Color="Color.Inherit"
						   Target="_blank" Link="https://github.com/fkomo/Billingares" />
		</MudAppBar>

		<article class="content px-4">
			@Body
		</article>

		<Billingares.Blazor.Components.VersionComponent />

		<Billingares.Blazor.Components.NotificationsComponent />
	</main>
</div>

@code {
	private MudTheme Theme = new();
}