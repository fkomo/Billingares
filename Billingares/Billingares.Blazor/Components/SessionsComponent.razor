@using Billingares.Blazor.Shared
@using Billingares.Blazor.ViewModels
@using Microsoft.Extensions.Localization
@using Ujeby.Blazor.Base.Components

@inject IStringLocalizer<Resource> localizer

@inherits ComponentBase<SessionsViewModel, ApplicationState, ApplicationSettings>;

@if (ViewModel.Sessions.Any())
{
	<MudTable Items="@ViewModel.Sessions" Loading="@IsBusy"
		  Hover="true" Dense="false" ReadOnly="true" FixedHeader="false" Striped="true">
		<ToolBarContent>
			<MudText Typo="Typo.h6">@localizer["Sessions"] (@ViewModel.Sessions.Length)</MudText>
		</ToolBarContent>
		<HeaderContent>
			<MudTh>Id</MudTh>
			<MudTh>@localizer["LastChange"]</MudTh>
		</HeaderContent>
		<RowTemplate>
			<MudTd DataLabel="Id">
				<MudLink Href="@($"{ BaseUri }{ context.Id }")" Typo="Typo.body2">@context.Id</MudLink>
			</MudTd>
			<MudTd DataLabel="@localizer["LastChange"]">@context.LastChange</MudTd>
		</RowTemplate>
	</MudTable>
}